{% extends 'publisher_list.html' %}

{% block main %}
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
            <ul class="nav nav-sidebar">
                <li><a href="/publisher_list/">出版社</a></li>
                <li><a href="/book_list/">图书 <span class="sr-only">(current)</span></a></li>
                <li class="active"><a href="/author_list/">作者</a></li>
            </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
            <h2 class="sub-header">作者</h2>
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>序号</th>
                        <th>ID</th>
                        <th>作者</th>
                        <th>代表作</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for author in all_authors %}
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ author.pk }}</td>
                            <td>{{ author.name }}</td>
                            <td>{% for book in author.books.all %}
                                《{{ book.name }}》
                            {% endfor %}

                            <td><a class="btn btn-danger btn-sm" href="/author_del/?pk={{ author.pk }}">删除</a>
                                <a class="btn btn-primary btn-sm" href="/author_editor/?pk={{ author.pk }}">编辑</a></td>
                            </td>
                        </tr>

                    {% endfor %}

                    </tbody>
                </table>

                <a class="btn btn-success" href="/author_add/">添加</a>
    {% load mytags %}
    {% pagination 10 %}
            </div>
        </div>

    </div>

</div>

{% endblock %}
